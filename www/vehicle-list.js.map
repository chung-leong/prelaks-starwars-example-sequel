{"version":3,"sources":["webpack:///./pages/vehicle-list.jsx","webpack:///./widgets/list.jsx","webpack:///./widgets/loading.jsx"],"names":["props","render","a","show","vehicles","items","pageName","route","swapi","useProgress","fetchList","more","component","Relaks","memo","List","urls","field","map","url","index","item","pending","length","className","i","id","extractID","find","text","linkProps","href","undefined","key","defaultProps","Loading"],"mappings":"oRAKA,WAA2BA,GAA3B,gBAUWC,EAVX,SAAAC,EAAA,6DAUWD,EAVX,WAcME,EAHGC,EAID,6BACE,wCACA,kBAAC,IAAD,CAAMC,MAAOD,EAAUE,SAAS,kBAAkBC,MAAOA,KALxD,kBAAC,IAAD,QAXDA,EAAiBP,EAAjBO,MAAOC,EAAUR,EAAVQ,MADjB,EAEmBC,cAFnB,WAEUN,EAFV,KAIEF,IAJF,SAKyBO,EAAME,UAAU,cALzC,OAKQN,EALR,OAMEH,IAEAG,EAASO,OARX,4C,sBAwBA,IAAMC,EAAYC,IAAOC,M,+EC7BzB,sDAEA,SAASC,EAAKf,GAAO,IACXO,EAAwCP,EAAxCO,MAAOS,EAAiChB,EAAjCgB,KAAMX,EAA2BL,EAA3BK,MAAOY,EAAoBjB,EAApBiB,MAAOX,EAAaN,EAAbM,SAgBjC,OAfIU,IAEqB,iBAAVA,IACPA,EAAO,CAAEA,GACTX,EAAQ,CAAEA,IAGdA,EAAQW,EAAKE,KAAI,SAACC,EAAKC,GACnB,IAAIC,EAAQhB,EAASA,EAAMe,GAAS,KAIpC,OAHKC,IACDA,EAAO,CAAEF,MAAKG,SAAS,IAEpBD,MAGVhB,EAGgB,IAAjBA,EAAMkB,OACC,wBAAIC,UAAU,SAAQ,4BAAI,wCAE9B,4BAAKnB,EAAMa,KAElB,SAAoBG,EAAMI,GACtB,IAAMC,EAAKnB,EAAMoB,UAAUN,EAAKF,KAC1BA,EAAMZ,EAAMqB,KAAKtB,EAAU,CAAEoB,OAC7BG,EAAOR,EAAKC,QAAU,MAAQD,EAAKJ,GACnCa,EAAY,CACdC,KAAMZ,EACNK,UAAYH,EAAKC,QAAW,eAAYU,GAE5C,OAAO,wBAAIC,IAAKR,GAAG,sBAAOK,EAAYD,QAf/B,KAmBfd,EAAKmB,aAAe,CAChBjB,MAAO,S,gCCxCX,sDAEA,SAASkB,IACL,OACI,yBAAKX,UAAU,WACX,6BACI,uBAAGA,UAAU,0BADjB","file":"vehicle-list.js","sourcesContent":["import React from 'react';\nimport Relaks, { useProgress } from 'relaks';\nimport { List } from '../widgets/list.jsx';\nimport { Loading } from '../widgets/loading.jsx';\n\nasync function VehicleList(props) {\n  const { route, swapi } = props;\n  const [ show ] = useProgress();\n\n  render();\n  const vehicles = await swapi.fetchList('/vehicles/');\n  render();\n\n  vehicles.more();\n\n  function render() {\n    if (!vehicles) {\n      show(<Loading />);\n    } else {\n      show(\n        <div>\n          <h1>Vehicles</h1>\n          <List items={vehicles} pageName=\"vehicle-summary\" route={route} />\n        </div>\n      );\n    }\n  }\n}\n\nconst component = Relaks.memo(VehicleList);\n\nexport {\n  component as default,\n};\n","import React from 'react';\n\nfunction List(props) {\n    let { route, urls, items, field, pageName } = props;\n    if (urls) {\n        // accept single URL and object\n        if (typeof(urls) === 'string') {\n            urls = [ urls ];\n            items = [ items ];\n        }\n        // deal with holes in the data set\n        items = urls.map((url, index) => {\n            let item = (items) ? items[index] : null;\n            if (!item) {\n                item = { url, pending: true };\n            }\n            return item;\n        });\n    }\n    if (!items) {\n        return null;\n    }\n    if (items.length === 0) {\n        return <ul className=\"empty\"><li><span>none</span></li></ul>;\n    }\n    return <ul>{items.map(renderItem)}</ul>;\n\n    function renderItem(item, i) {\n        const id = route.extractID(item.url);\n        const url = route.find(pageName, { id });\n        const text = item.pending ? '...' : item[field];\n        const linkProps = {\n            href: url,\n            className: (item.pending) ? 'pending' : undefined,\n        };\n        return <li key={i}><a {...linkProps}>{text}</a></li>;\n    }\n}\n\nList.defaultProps = {\n    field: 'name'\n};\n\nexport {\n    List\n};\n","import React from 'react';\n\nfunction Loading() {\n    return (\n        <div className=\"loading\">\n            <div>\n                <i className=\"fab fa-empire fa-spin\"/> Loading\n            </div>\n        </div>\n    );\n}\n\nexport {\n    Loading as default,\n    Loading\n};\n"],"sourceRoot":""}