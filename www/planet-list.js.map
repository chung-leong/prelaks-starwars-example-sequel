{"version":3,"sources":["webpack:///../node_modules/relaks/index.js","webpack:///./pages/planet-list.jsx","webpack:///./widgets/loading.jsx","webpack:///./widgets/list.jsx"],"names":["_options__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_hooks__WEBPACK_IMPORTED_MODULE_1__","__webpack_exports__","get","set","plant","use","memo","_callee","props","route","swapi","_useProgress","_useProgress2","show","planets","render","babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","a","wrap","_context","prev","next","react__WEBPACK_IMPORTED_MODULE_3___default","createElement","widgets_list__WEBPACK_IMPORTED_MODULE_6__","items","pageName","widgets_loading__WEBPACK_IMPORTED_MODULE_7__","useProgress","babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default","fetchList","sent","more","stop","this","component","Relaks","PlanetList","d","Loading","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","className","List","urls","field","map","url","index","item","pending","length","i","id","extractID","find","text","linkProps","href","undefined","key","defaultProps"],"mappings":"sGAAA,IAAAA,EAAAC,EAAA,IAAAC,EAAAD,EAAA,IAGeE,EAAA,GACfC,IAAMJ,EAAA,EACNK,IAAML,EAAA,EACNM,MAAQN,EAAA,EAERO,IAAML,EAAA,EACNM,KAAON,EAAA,8MCJP,SAAAO,EAA0BC,GAA1B,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAUaC,EAVb,OAAAC,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAUaN,EAVb,WAcYF,EAHCC,EAIGQ,EAAAL,EAAAM,cAAA,WACID,EAAAL,EAAAM,cAAA,qBACAD,EAAAL,EAAAM,cAACC,EAAA,EAAD,CAAMC,MAAOX,EAASY,SAAS,iBAAiBjB,MAAOA,KAL1Da,EAAAL,EAAAM,cAACI,EAAA,EAAD,QAXLlB,EAAiBD,EAAjBC,MAAOC,EAAUF,EAAVE,MADnBC,EAEqBiB,cAFrBhB,EAAAiB,IAAAlB,EAAA,GAEYE,EAFZD,EAAA,GAIIG,IAJJI,EAAAE,KAAA,EAK0BX,EAAMoB,UAAU,aAL1C,OAKUhB,EALVK,EAAAY,KAMIhB,IAEAD,EAAQkB,OARZ,wBAAAb,EAAAc,SAAA1B,EAAA2B,sDAwBMC,EAAYC,IAAO9B,KAAK+B,qCC7B9BtC,EAAAuC,EAAArC,EAAA,sBAAAsC,IAAA,IAAAC,EAAAzC,EAAA,GAAA0C,EAAA1C,EAAA2C,EAAAF,GAEA,SAASD,IACL,OACIE,EAAAxB,EAAAM,cAAA,OAAKoB,UAAU,WACXF,EAAAxB,EAAAM,cAAA,WACIkB,EAAAxB,EAAAM,cAAA,KAAGoB,UAAU,0BADjB,gDCLZ5C,EAAAuC,EAAArC,EAAA,sBAAA2C,IAAA,IAAAJ,EAAAzC,EAAA,GAAA0C,EAAA1C,EAAA2C,EAAAF,GAEA,SAASI,EAAKpC,GAAO,IACXC,EAAwCD,EAAxCC,MAAOoC,EAAiCrC,EAAjCqC,KAAMpB,EAA2BjB,EAA3BiB,MAAOqB,EAAoBtC,EAApBsC,MAAOpB,EAAalB,EAAbkB,SAgBjC,OAfImB,IAEqB,iBAAVA,IACPA,EAAO,CAAEA,GACTpB,EAAQ,CAAEA,IAGdA,EAAQoB,EAAKE,IAAI,SAACC,EAAKC,GACnB,IAAIC,EAAQzB,EAASA,EAAMwB,GAAS,KAIpC,OAHKC,IACDA,EAAO,CAAEF,MAAKG,SAAS,IAEpBD,KAGVzB,EAGgB,IAAjBA,EAAM2B,OACCX,EAAAxB,EAAAM,cAAA,MAAIoB,UAAU,SAAQF,EAAAxB,EAAAM,cAAA,UAAIkB,EAAAxB,EAAAM,cAAA,sBAE9BkB,EAAAxB,EAAAM,cAAA,UAAKE,EAAMsB,IAElB,SAAoBG,EAAMG,GACtB,IAAMC,EAAK7C,EAAM8C,UAAUL,EAAKF,KAC1BA,EAAMvC,EAAM+C,KAAK9B,EAAU,CAAE4B,OAC7BG,EAAOP,EAAKC,QAAU,MAAQD,EAAKJ,GACnCY,EAAY,CACdC,KAAMX,EACNL,UAAYO,EAAKC,QAAW,eAAYS,GAE5C,OAAOnB,EAAAxB,EAAAM,cAAA,MAAIsC,IAAKR,GAAGZ,EAAAxB,EAAAM,cAAA,IAAOmC,EAAYD,OAf/B,KAmBfb,EAAKkB,aAAe,CAChBhB,MAAO","file":"planet-list.js","sourcesContent":["import { get, set, plant } from './options';\nimport { use, memo } from './hooks';\n\nexport default {\n\tget: get,\n\tset: set,\n\tplant: plant,\n\n\tuse: use,\n\tmemo: memo,\n};\n\nexport * from './options';\nexport * from './class';\nexport * from './hooks';\nexport * from './async-rendering-cycle';\nexport * from './async-rendering-interrupted';\nexport * from './async-save-buffer';\nexport * from './sticky-selection';\n","import React from 'react';\nimport Relaks, { useProgress } from 'relaks';\nimport { List } from 'widgets/list';\nimport { Loading } from 'widgets/loading';\n\nasync function PlanetList(props) {\n    const { route, swapi } = props;\n    const [ show ] = useProgress();\n\n    render();\n    const planets = await swapi.fetchList('/planets/');\n    render();\n\n    planets.more();\n\n    function render() {\n        if (!planets) {\n            show(<Loading />);\n        } else {\n            show(\n                <div>\n                    <h1>Planets</h1>\n                    <List items={planets} pageName=\"planet-summary\" route={route} />\n                </div>\n            );\n        }\n    }\n}\n\nconst component = Relaks.memo(PlanetList);\n\nexport {\n    component as default,\n};\n","import React, { Component } from 'react';\n\nfunction Loading() {\n    return (\n        <div className=\"loading\">\n            <div>\n                <i className=\"fab fa-empire fa-spin\"/> Loading\n            </div>\n        </div>\n    );\n}\n\nexport {\n    Loading as default,\n    Loading\n};\n","import React from 'react';\n\nfunction List(props) {\n    let { route, urls, items, field, pageName } = props;\n    if (urls) {\n        // accept single URL and object\n        if (typeof(urls) === 'string') {\n            urls = [ urls ];\n            items = [ items ];\n        }\n        // deal with holes in the data set\n        items = urls.map((url, index) => {\n            let item = (items) ? items[index] : null;\n            if (!item) {\n                item = { url, pending: true };\n            }\n            return item;\n        });\n    }\n    if (!items) {\n        return null;\n    }\n    if (items.length === 0) {\n        return <ul className=\"empty\"><li><span>none</span></li></ul>;\n    }\n    return <ul>{items.map(renderItem)}</ul>;\n\n    function renderItem(item, i) {\n        const id = route.extractID(item.url);\n        const url = route.find(pageName, { id });\n        const text = item.pending ? '...' : item[field];\n        const linkProps = {\n            href: url,\n            className: (item.pending) ? 'pending' : undefined,\n        };\n        return <li key={i}><a {...linkProps}>{text}</a></li>;\n    }\n}\n\nList.defaultProps = {\n    field: 'name'\n};\n\nexport {\n    List\n};\n"],"sourceRoot":""}