{"version":3,"sources":["webpack:///./pages/character-list.jsx","webpack:///./widgets/list.jsx","webpack:///./widgets/loading.jsx"],"names":["_callee","props","route","swapi","_useProgress","_useProgress2","show","people","render","_regenerator2","default","wrap","_context","prev","next","_react2","createElement","_loading2","_list2","items","field","pageName","_hooks","useProgress","_slicedToArray3","fetchList","sent","more","stop","this","__webpack_require__","CharacterList","displayName","asyncComponent","_hooks2","_react","List","urls","map","url","index","item","pending","length","className","i","id","extractID","find","text","linkProps","href","undefined","key","defaultProps","Loading"],"mappings":"oQAKA,SAAAA,EAA6BC,GAA7B,IAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAUaC,EAVb,OAAAC,EAAAC,QAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAUaN,EAVb,WAWQ,IAAKD,EACD,OAAOQ,EAAAL,QAAAM,cAACC,EAAAP,QAAD,MAEXJ,EACIS,EAAAL,QAAAM,cAAA,WACID,EAAAL,QAAAM,cAAA,wBACAD,EAAAL,QAAAM,cAACE,EAAAR,QAAD,CAAMS,MAAOZ,EAAQa,MAAM,OAAOC,SAAS,oBAAoBnB,MAAOA,OAhB1EA,EAAiBD,EAAjBC,MAAOC,EAAUF,EAAVE,MADnBC,GAEqB,EAAAkB,EAAAC,eAFrBlB,GAAA,EAAAmB,EAAAd,SAAAN,EAAA,GAEYE,EAFZD,EAAA,GAIIG,IAJJI,EAAAE,KAAA,EAKyBX,EAAMsB,UAAU,YALzC,OAKUlB,EALVK,EAAAc,KAMIlB,IAEAD,EAAOoB,OARX,yBAAAf,EAAAgB,SAAA5B,EAAA6B,0DALAC,EAAA,IACAR,EAAAQ,EAAA,eACAA,EAAA,UACAA,EAAA,yDA0BAC,EAAcC,YAAc,gBAE5B,IAAMC,GAAiB,EAAAC,EAAAxB,SAAOqB,KAGRrB,QAAlBuB,IACkBF,cAAlBE,6GCnCJ,MAAAE,EAAAL,EAAA,uCAEA,SAASM,EAAKnC,GAAO,IACXC,EAAwCD,EAAxCC,MAAOmC,EAAiCpC,EAAjCoC,KAAMlB,EAA2BlB,EAA3BkB,MAAOC,EAAoBnB,EAApBmB,MAAOC,EAAapB,EAAboB,SAgBjC,OAfIgB,IAEqB,iBAAVA,IACPA,EAAO,CAAEA,GACTlB,EAAQ,CAAEA,IAGdA,EAAQkB,EAAKC,IAAI,SAACC,EAAKC,GACnB,IAAIC,EAAQtB,EAASA,EAAMqB,GAAS,KAIpC,OAHKC,IACDA,EAAO,CAAEF,MAAKG,SAAS,IAEpBD,KAGVtB,EAGgB,IAAjBA,EAAMwB,OACC5B,EAAAL,QAAAM,cAAA,MAAI4B,UAAU,SAAQ7B,EAAAL,QAAAM,cAAA,UAAID,EAAAL,QAAAM,cAAA,sBAE9BD,EAAAL,QAAAM,cAAA,UAAKG,EAAMmB,IAElB,SAAoBG,EAAMI,GACtB,IAAMC,EAAK5C,EAAM6C,UAAUN,EAAKF,KAC1BA,EAAMrC,EAAM8C,KAAK3B,EAAU,CAAEyB,OAC7BG,EAAOR,EAAKC,QAAU,MAAQD,EAAKrB,GACnC8B,EAAY,CACdC,KAAMZ,EACNK,UAAYH,EAAKC,QAAW,eAAYU,GAE5C,OAAOrC,EAAAL,QAAAM,cAAA,MAAIqC,IAAKR,GAAG9B,EAAAL,QAAAM,cAAA,IAAOkC,EAAYD,OAf/B,KAmBfb,EAAKkB,aAAe,CAChBlC,MAAO,QAIXgB,EAAKJ,YAAc,SAGPtB,QAAR0B,IACAA,qHChDJ,MAAAD,EAAAL,EAAA,uCAEA,SAASyB,IACL,OACIxC,EAAAL,QAAAM,cAAA,OAAK4B,UAAU,WACX7B,EAAAL,QAAAM,cAAA,WACID,EAAAL,QAAAM,cAAA,KAAG4B,UAAU,0BADjB,aAQZW,EAAQvB,YAAc,YAGPtB,QAAX6C,IACAA","file":"character-list.js","sourcesContent":["import React from 'react';\nimport Relaks, { useProgress } from 'relaks/hooks';\nimport List from 'widgets/list';\nimport Loading from 'widgets/loading';\n\nasync function CharacterList(props) {\n    const { route, swapi } = props;\n    const [ show ] = useProgress();\n\n    render();\n    const people = await swapi.fetchList('/people/');\n    render();\n\n    people.more();\n\n    function render() {\n        if (!people) {\n            return <Loading />;\n        }\n        show(\n            <div>\n                <h1>Characters</h1>\n                <List items={people} field=\"name\" pageName=\"character-summary\" route={route} />\n            </div>\n        );\n    };\n}\n\n// set display name so it appears in React Dev Console when code is uglified\nCharacterList.displayName = 'CharacterList';\n\nconst asyncComponent = Relaks(CharacterList);\n\nexport {\n    asyncComponent as default,\n    asyncComponent as CharacterList,\n};\n","import React, { Component } from 'react';\n\nfunction List(props) {\n    let { route, urls, items, field, pageName } = props;\n    if (urls) {\n        // accept single URL and object\n        if (typeof(urls) === 'string') {\n            urls = [ urls ];\n            items = [ items ];\n        }\n        // deal with holes in the data set\n        items = urls.map((url, index) => {\n            let item = (items) ? items[index] : null;\n            if (!item) {\n                item = { url, pending: true };\n            }\n            return item;\n        });\n    }\n    if (!items) {\n        return null;\n    }\n    if (items.length === 0) {\n        return <ul className=\"empty\"><li><span>none</span></li></ul>;\n    }\n    return <ul>{items.map(renderItem)}</ul>;\n\n    function renderItem(item, i) {\n        const id = route.extractID(item.url);\n        const url = route.find(pageName, { id });\n        const text = item.pending ? '...' : item[field];\n        const linkProps = {\n            href: url,\n            className: (item.pending) ? 'pending' : undefined,\n        };\n        return <li key={i}><a {...linkProps}>{text}</a></li>;\n    }\n}\n\nList.defaultProps = {\n    field: 'name'\n};\n\n// set display name so it appears in React Dev Console when code is uglified\nList.displayName = 'List';\n\nexport {\n    List as default,\n    List\n};\n","import React, { Component } from 'react';\n\nfunction Loading() {\n    return (\n        <div className=\"loading\">\n            <div>\n                <i className=\"fab fa-empire fa-spin\"/> Loading\n            </div>\n        </div>\n    );\n}\n\n// set display name so it appears in React Dev Console when code is uglified\nLoading.displayName = 'Loading';\n\nexport {\n    Loading as default,\n    Loading\n};\n"],"sourceRoot":""}